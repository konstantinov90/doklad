Всем привет! Меня зовут Саша, я занимаюсь разработкой интерфейсов в директе.

Я расскажу вам про то, как мы работаем с переводами, с какими проблемами столкнулись и как 

Наш сервис мы разрабатываем для пользователей из разных стран, поэтому интерфейс у нас доступен на трех языках, включая русский.

Для работы с переводами мы используем стандартные инструменты:
- одна из наших яндексовых библиотек интернационализации (почему "одна из" - потому что у нас есть старый и новый интерфейс, написанные на разных технологиях)
- у нас есть проект в танкере (все знакомы с танкером?), который для нас является "источником истины" про переводы
- для синхронизации с танкером мы используем утилиту tanker-kit
- у нас есть скрипты для автоматической синхронизации с танкером, которые выполняются по ночам

У нас (был) стандартный процесс:
- разработчик получает какую-то задачу, для которой в своей ветке добавляет новые фразы в код проекта
- в какой-то момент он вливает свой пул-реквест в транк вместе с новыми фразами
- (ночью) транк синхронизируется с мастером танкера, после чего переводчики могут брать новые фразы в работу
- переводы переводятся
- (еще одной ночью) мастер танкера синхронизируется с транком, после чего переводы новых фраз попадают в код
- и цикл завершается

Вот как это выглядит на диаграмме:
Итак, переводы в транке, релиз собран, все хорошо. Можно выдавать роли пользователям и пиарить свою новую фичу, да?
Не совсем. Это идеальная картина, но давайте посмотрим, как это обычно происходит на практике:

Ну ладно, но после второго релиза уже можно пиарить? Эээээмм, тоже нет, потому что последний кусочек попал в мастер после синхронизации. Ок, ну после третьего-то релиза можно? Если представить, что все части перевода попали в нашу диаграмму - то можете пиарить свою фичу.

Но что у нас в целом с интерфейсом? Когда мы можем сказать, что он полностью переведен, что нашим не русскоязычным пользователям доступен весь функционал? При условии активной разработки, к сожалению, мы можем достоверно сказать только "никогда".

Вот пример того, что могут увидеть англоязычные пользователи на одной из страниц в продакшене директа.

Итак, какие у нас проблемы:
- в продакшене гуляют непереведенные куски интерфейса
- трудно контролировать и прогнозировать процесс перевода конкретных частей функциональности (конкретных задач), так как все непереведенные фразы живут в мастере танкера одной кучей и могут переводиться в любом порядке
- в условиях активной разработки можно гарантировать, что нерусскоязычным пользователям интерфейс не полностью доступен
